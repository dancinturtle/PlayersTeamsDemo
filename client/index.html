<!DOCTYPE html>
<html ng-app="app">
  <head>
    <meta charset="utf-8">
    <title>Index</title>
    <script src="jquery/dist/jquery.js"></script>
    <link rel="stylesheet" href="bootstrap/dist/css/bootstrap.css" />
    <script src="angular/angular.js"></script>
    <script src="angular-route/angular-route.js"></script>

    <script>
      var app = angular.module('app', ['ngRoute']);

      app.config(function($routeProvider){
        $routeProvider
        .when('/', {
          templateUrl: 'partials/players.html',
          controller: 'PlayersController'
        })
        .when('/teams', {
          templateUrl: 'partials/teams.html',
          controller: 'TeamsController'
        })
        .otherwise({
          redirectTo:'/'
        })
      })

      app.factory('PlayerFactory', function(){

        var players = [{name: "Kermit"}, {name: "Miss Piggy"}, {name: "Gonzo"}];
        var factory = {};
        // sharePlayers will deliver information that we want but place that information into the function that our controller wants
        factory.sharePlayers = function(callback){

          callback(players);
        }


        return factory;
      })

      app.controller('PlayersController', function($scope, PlayerFactory){
        $scope.players = [];
        (function getPlayers(){
          // trying to get the information, and what do we want to do with it once we have it?
          PlayerFactory.sharePlayers(function(data){
            $scope.players = data
          })
        })();

      })

      app.controller('TeamsController', function($scope){
        $scope.teams = [{name:"Bunglers"}, {name: "Klutzes"}]
      })

      app.controller('AssociationsController', function($scope){

      })




    </script>

  </head>
  <body>
    <div class="container">

      <h1>Players and teams!!</h1>

      <!-- The middle of the document will change depending on user interaction -->
      <div ng-view>

      </div>

      <h6>End of document</h6>



    </div>
  </body>
</html>
